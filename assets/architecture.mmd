graph LR
    classDef human fill:#0f172a,stroke:#f59e0b,stroke-width:2px,color:#f59e0b;
    classDef core fill:#1e293b,stroke:#a855f7,stroke-width:2px,color:#d8b4fe;
    classDef memory fill:#1e293b,stroke:#10b981,stroke-width:2px,color:#6ee7b7;
    classDef work fill:#1e293b,stroke:#3b82f6,stroke-width:1px,color:#93c5fd;
    classDef output fill:#064e3b,stroke:#10b981,stroke-width:2px,color:#6ee7b7;
    classDef security fill:#1e293b,stroke:#ef4444,stroke-width:1px,color:#fca5a5;

    User(["ðŸ‘¤ User"]):::human
    
    subgraph Cognitive["Cognitive Layer"]
        Orchestrator{{"ðŸ§  Orchestrator"}}:::core
        Memory[("Memory Graph")]:::memory
        Action["Action Engine"]:::core
        Learning["Learning Pipeline"]:::core
    end
    
    subgraph Apps["App Federation"]
        Research["Research"]:::work
        Write["Write"]:::work
        Code["Code"]:::work
        Create["Create"]:::work
    end

    subgraph Security["Security Layer"]
        RateLimit["Rate Limiter"]:::security
        Sanitize["Input Sanitizer"]:::security
        Audit["Audit Log"]:::security
    end

    User ==> RateLimit
    RateLimit --> Sanitize
    Sanitize ==> Orchestrator
    
    Memory -.->|"Context Injection"| Orchestrator
    Action -.->|"Suggestions"| User
    
    Orchestrator --> Research
    Orchestrator --> Write
    Orchestrator --> Code
    Orchestrator --> Create
    
    Research & Write & Code & Create --> Verify{{"âœ“ Verify"}}:::core
    Verify ==> Output["âœ… Output"]:::output
    
    Output -.->|"Learning"| Learning
    Learning --> Memory
    
    Orchestrator -.-> Audit
